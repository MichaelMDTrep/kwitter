(this["webpackJsonpkwitter-frontend"]=this["webpackJsonpkwitter-frontend"]||[]).push([[0],{208:function(e,t,a){e.exports=a(360)},235:function(e,t,a){},353:function(e,t,a){},355:function(e,t,a){},356:function(e,t,a){},359:function(e,t,a){},360:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(39);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(19),s=a(177),u=function(){return n.a.createElement(n.a.Fragment,null,"LOADING.......")},l=a(8),i=a.n(l),p=a(17),m=a(9),d=a(61),f=a(62),h=a(178),g=a.n(h);function E(e){console.info("\n    Did you hit CORRECT the endpoint?\n    Did you send the CORRECT data?\n    Did you make the CORRECT kind of request [GET/POST/PATCH/DELETE]?\n    Check the Kwitter docs \ud83d\udc49\ud83c\udfff https://kwitter-api.herokuapp.com/docs/#/\n    Check the Axios docs \ud83d\udc49\ud83c\udfff https://github.com/axios/axios\n    TODO: troll vince pew pew lazer beams\n  ",e)}function b(){try{var e=JSON.parse(localStorage.getItem("persist:root"));return JSON.parse(e.auth).isAuthenticated}catch(t){return""}}var v=new(function(){function e(){Object(d.a)(this,e),this.axiosInstance=null;var t=g.a.create({baseURL:"https://kwitter-api.herokuapp.com",timeout:3e4,headers:{Authorization:"Bearer ".concat(b())}});t.interceptors.request.use((function(e){return Object(m.a)(Object(m.a)({},e),{},{headers:Object(m.a)(Object(m.a)({},e.headers),{},{Authorization:"Bearer ".concat(b())})})}),(function(e){return Promise.reject(e)})),t.interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(e)})),this.axiosInstance=t}return Object(f.a)(e,[{key:"login",value:function(){var e=Object(p.a)(i.a.mark((function e(t){var a,r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,r=t.password,e.prev=1,e.next=4,this.axiosInstance.post("/auth/login",{username:a,password:r});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),E(e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserInfo",value:function(){var e=Object(p.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axiosInstance.get("/users/".concat(t));case 3:return a=e.sent,console.log("getUserInfo"+JSON.stringify(a)),e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),E(e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserPicture",value:function(){var e=Object(p.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axiosInstance.get("/users/".concat(t,"/picture"));case 3:return a=e.sent,console.log("getUserPicture: "+a),e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),E(e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setUserPicture",value:function(){var e=Object(p.a)(i.a.mark((function e(t,a){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axiosInstance.put("/users/".concat(a,"/picture"),t);case 3:return r=e.sent,console.log("setUserPicture"+JSON.stringify(r)),e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),E(e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"createUser",value:function(){var e=Object(p.a)(i.a.mark((function e(t){var a,r,n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,r=t.displayName,n=t.password,e.prev=1,e.next=4,this.axiosInstance.post("/users",{username:a,displayName:r,password:n});case 4:return c=e.sent,console.log("createUser"+JSON.stringify(c)),e.abrupt("return",c);case 9:return e.prev=9,e.t0=e.catch(1),E(e.t0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateProfile",value:function(){var e=Object(p.a)(i.a.mark((function e(t){var a,r,n,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.password,r=t.about,n=t.displayName,c=t.username,e.prev=1,console.log({password:a,about:r,displayName:n,username:c}),e.next=5,this.axiosInstance.patch("/users/".concat(c),{password:a,about:r,displayName:n});case 5:return o=e.sent,console.log("updateProfile's result:"+JSON.stringify(o)),e.abrupt("return",o);case 10:return e.prev=10,e.t0=e.catch(1),E(e.t0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"messagesIn",value:function(){var e=Object(p.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axiosInstance.get("/messages?limit=100&offset=0");case 3:return t=e.sent,console.log("messages: "+JSON.stringify(t)),e.abrupt("return",t);case 8:return e.prev=8,e.t0=e.catch(0),E(e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"deleteProfile",value:function(){var e=Object(p.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("out: "+t),e.next=4,this.axiosInstance.delete("/users/".concat(t));case 4:a=e.sent,console.log(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),E(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"messagesOut",value:function(){var e=Object(p.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),e.next=4,this.axiosInstance.post("/messages",{text:t});case 4:return a=e.sent,console.log("messageOut: "+JSON.stringify(a)),e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),E(e.t0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"like",value:function(){var e=Object(p.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("messageid="+t),e.next=4,this.axiosInstance.post("/likes",t);case 4:return a=e.sent,console.log("result"+JSON.stringify(a)),e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),E(e.t0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"removeLike",value:function(){var e=Object(p.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("sent data:"+t),e.next=4,this.axiosInstance.delete("/likes/".concat(t));case 4:a=e.sent,console.log(a),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),E(e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(p.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axiosInstance.get("/auth/logout");case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),E(e.t0),e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}()),y="AUTH/LOGIN",O={login:function(e){return function(){var t=Object(p.a)(i.a.mark((function t(a,r){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:y}),t.next=4,v.login(e);case 4:n=t.sent,console.log({payload:n}),a({type:"AUTH/LOGIN_SUCCESS",payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"AUTH/LOGIN_FAILURE",payload:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()}},S=Object(o.b)((function(e){return{loading:e.auth.loading,error:e.auth.error}}),O),j=a(41),w=a(45),k=(a(235),a(370)),x=a(361),I=S((function(e){var t=e.login,a=e.loading,c=e.error,o=Object(r.useState)({username:"",password:""}),s=Object(w.a)(o,2),l=s[0],i=s[1],p=function(e){var t=e.target.name,a=e.target.value;i((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(j.a)({},t,a))}))};return n.a.createElement(n.a.Fragment,null,n.a.createElement(k.a,{id:"login-form",style:{alignItems:"center"},onSubmit:function(e){e.preventDefault(),t(l)}},n.a.createElement("label",{htmlFor:"username"},"Username"),n.a.createElement("input",{type:"text",name:"username",value:l.username,autoFocus:!0,required:!0,onChange:p}),n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",name:"password",value:l.password,required:!0,onChange:p}),n.a.createElement(x.a,{type:"submit",disabled:a},"Login")),a&&n.a.createElement(u,null),c&&n.a.createElement("p",{style:{color:"red"}},c.message))})),A="MESSAGES/GET_MESSAGES",N=function(){return function(){var e=Object(p.a)(i.a.mark((function e(t,a){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:A}),e.next=4,v.messagesIn();case 4:r=e.sent,console.log({payload:r}),t({type:"MESSAGES/GET_MESSAGES_SUCCESS",payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"MESSAGES/GET_MESSAGES_FAILURE",payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()},U={logout:function(){return function(){var e=Object(p.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.logout();case 3:return e.prev=3,t({type:"AUTH/LOGOUT"}),e.finish(3);case 6:case"end":return e.stop()}}),e,null,[[0,,3,6]])})));return function(t,a){return e.apply(this,arguments)}}()},messagesIn:N},C=Object(o.b)((function(e){return{isAuthenticated:!!e.auth.isAuthenticated}}),U),F=a(33),L=(a(353),function(e){var t=e.isAuthenticated,a=e.logout;return n.a.createElement("div",{id:"menu"},n.a.createElement("h1",null,"Kwitter"),n.a.createElement(F.b,{to:"/"},"Home "),t&&n.a.createElement("div",{id:"menu-links"},n.a.createElement(F.b,{to:"/messagefeed"},"Message Feed "),n.a.createElement(F.b,{to:"/",onClick:a},"Logout"," ")))});L.defaultProps={isAuthenticated:!1,logout:function(){}};var _=C(L),T=a(20),R=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(_,null),n.a.createElement("h2",null,"Your favorite microblogging platform"),n.a.createElement(I,null),n.a.createElement(F.b,{to:"/newuser"},"New? Create your account here."))},G=a(92),P=a(91),M=a(196),D=function(e){Object(G.a)(a,e);var t=Object(P.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).handleLoadingClick=function(){r.setState({loading:!0}),setTimeout((function(){r.setState({loading:!1})}),3e3)},r.state={loading:!1},r}return Object(f.a)(a,[{key:"showDisplayName",value:function(){return"tacos"}},{key:"componentDidMount",value:function(){return this.props.getUserInfoAction(this.props.username)}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("ul",null,n.a.createElement("li",{style:{fontWeight:"bolder"}}," ","username:","  ",this.props.username||null),n.a.createElement("li",{style:{fontWeight:"bolder"}},"displayName: ",this.props.user&&this.props.user.displayName),"pic local:"," ",n.a.createElement("li",{style:{fontWeight:"bolder"}},n.a.createElement(M.a,{size:"small",src:"https://kwitter-api.herokuapp.com/users/".concat(this.props.username,"/picture"),alt:"Profile Picture"})),n.a.createElement("br",null),n.a.createElement("li",{style:{fontWeight:"bolder"}},n.a.createElement("p",null,"about: ",this.props.user&&this.props.user.about||"null")),n.a.createElement("li",{style:{fontWeight:"bolder"}},"account created at:"," ",this.props.user&&this.props.user.createdAt||null),n.a.createElement("li",{style:{fontWeight:"lighter"}}," password: *HIDDEN_VALUE*")," "))}}]),a}(r.Component),J={getUserInfoAction:function(e){return function(){var t=Object(p.a)(i.a.mark((function t(a,r){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"GETUSERINFO"}),t.next=4,v.getUserInfo(e);case 4:return n=t.sent,console.log("here:"+JSON.stringify(n)),a({type:"GETUSERINFO_SUCCESS",payload:n}),t.abrupt("return",JSON.stringify(n));case 10:t.prev=10,t.t0=t.catch(0),a({type:"GETUSERINFO_FAILURE",payload:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}()},getPhoto:function(e){return function(){var t=Object(p.a)(i.a.mark((function t(a,r){var n,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("username:"+e),t.next=4,v.getUserPicture(e);case 4:n=t.sent,c=JSON.stringify(n),console.log("payload"+c),t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()}},W=Object(o.b)((function(e){return{user:e.users.user.user,username:e.auth.username}}),J)(D),z={updateProfile:function(e){var t=e.password,a=e.about,r=e.displayName;return function(){var e=Object(p.a)(i.a.mark((function e(n,c){var o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("outgoingData:"+t),console.log("outgoingData:"+a),console.log("outgoingData:"+r),o=c().auth.username,e.next=7,v.updateProfile({password:t,about:a,displayName:r,username:o});case 7:s=e.sent,console.log("payload"+s),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),n({type:"GETUSERINFO_FAILURE",payload:e.t0.message}),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()},deleteProfile:function(e){var t=e.username;return function(){var e=Object(p.a)(i.a.mark((function e(a,r){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("ur dead"+t),e.next=4,v.deleteProfile(t);case 4:n=e.sent,console.log(n),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},uploadPhoto:function(e){return function(){var t=Object(p.a)(i.a.mark((function t(a,r){var n,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=r().auth.username,console.log(e),t.next=5,v.setUserPicture(e,n);case 5:c=t.sent,console.log("payload"+c),t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()}},H=Object(o.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,username:e.auth.username}}),z),K=(a(355),a(69)),q=a(369),V=H((function(e){var t=e.updateProfile,a=e.deleteProfile,c=e.uploadPhoto,o=e.loading,s=e.error,l=e.username,i=Object(r.useState)({password:"",about:"",displayName:"",picture:null}),p=Object(w.a)(i,2),d=p[0],f=p[1],h=function(e){var t=e.target.name,a=e.target.value;f((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(j.a)({},t,a))}))};return n.a.createElement(n.a.Fragment,null,n.a.createElement(k.a,{id:"login-form",onSubmit:function(e){e.preventDefault(),t(d)}},n.a.createElement(K.a,{size:"huge",color:"blue",htmlFor:"about"},"Whats your story?"),n.a.createElement(q.a,{isRequired:!0,type:"text",name:"about",placeholder:"tell us your story",icon:"address card",value:d.about,autoFocus:!0,onChange:h}),n.a.createElement(K.a,{size:"huge",color:"blue"},"Change your name?"),n.a.createElement(q.a,{type:"text",name:"displayName",value:d.displayName,onChange:h,placeholder:"Change Your displayName"}),n.a.createElement(K.a,{size:"huge",color:"blue",htmlFor:"password"},"password is required to update your account."),n.a.createElement(q.a,{type:"password",name:"password",value:d.password,onChange:h,placeholder:"Change Your Password"}),n.a.createElement(x.a,{color:"purple",type:"submit",disabled:o},"Update Profile")),n.a.createElement(k.a,{id:"login-form",onSubmit:function(e){console.log(e,d.picture),e.preventDefault();var t=new FormData;t.append("picture",d.picture),c(t)}},n.a.createElement(K.a,{size:"huge",color:"blue",htmlFor:"picture"},"tired of your old look?",n.a.createElement("br",null),"fancify your profile with a <200 kb picture"),n.a.createElement(q.a,{icon:"paperclip",type:"file",accept:"image/png, image/jpeg",name:"picture",onChange:function(e){var t=e.target.name,a=e.target.files[0];f((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(j.a)({},t,a))}))}}),n.a.createElement(x.a,{color:"purple",type:"submit"},"upload")),n.a.createElement("hr",null),n.a.createElement("p",null,"This will permanemtly and immediatly delete your account.",n.a.createElement("br",null),"Also it'll totally bum out your all your buddies, who just want to chat and hang out and stuff.",n.a.createElement("br",null)),n.a.createElement(x.a,{color:"black",size:"massive",style:{fontsize:"biggest",color:"red"},onClick:function(){a({username:l})}},"DELETE YOUR ACCOUNT"),o&&n.a.createElement(u,null),s&&n.a.createElement("p",{style:{color:"red"}},s.message))})),Y=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(_,null),n.a.createElement("h2",null,"Profile"),n.a.createElement(W,null),n.a.createElement("h2",null,"Want to update your account?"),n.a.createElement(V,null))},B=function(e){var t=e.location;return n.a.createElement(n.a.Fragment,null,n.a.createElement("p",null,"Page not found for ",t.pathname),n.a.createElement(F.b,{to:"/"},"Go Home"))},$=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(_,null),n.a.createElement("h2",null,"Your favorite microblogging platform"),n.a.createElement(Ee,null))},Q={messagesIn:N},X=Object(o.b)((function(e){return{isAuthenticated:!!e.auth.isAuthenticated,content:e.messages.messageList}}),Q),Z=(a(356),{messagesIn:N}),ee=Object(o.b)((function(e){return{isAuthenticated:!!e.auth.isAuthenticated,loading:e.auth.loading,error:e.auth.error}}),Z),te=a(373),ae=a(372),re={sendlike:function(e){return function(){var t=Object(p.a)(i.a.mark((function t(a,r){var n,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("sent data: "+e),n={messageId:e},a({type:"ACTIONS/SEND_LIKES"}),t.next=6,v.like(n);case 6:c=t.sent,console.log(c),a({type:"ACTIONS/SEND_LIKES_SUCCESS",payload:c}),t.next=14;break;case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return");case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},removeLike:function(e){return function(){var t=Object(p.a)(i.a.mark((function t(a,r){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"REMOVE_LIKES"}),console.log(e),t.next=5,v.removeLike(e);case 5:n=t.sent,console.log(n),a({type:"REMOVE_LIKES_SUCCESS",payload:n}),t.next=13;break;case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return");case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,a){return t.apply(this,arguments)}}()},messagesIn:N},ne=Object(o.b)((function(e){return{like:e.likes,loading:e.loading,username:e.auth.username}}),re),ce=a(43),oe=ne(function(e){Object(G.a)(a,e);var t=Object(P.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",null,n.a.createElement("ul",null,this.props.array&&this.props.array.map((function(t,a){return n.a.createElement("li",{key:a,content:t.username},t.username,n.a.createElement("br",null),e.props.name===t.username,e.props.username===t.username&&n.a.createElement(x.a,{color:"red",size:"tiny",onClick:Object(p.a)(i.a.mark((function a(){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.props.removeLike(t.id);case 2:e.props.messagesIn();case 3:case"end":return a.stop()}}),a)})))},"Remove Like!"))})),n.a.createElement(x.a,{inverted:!0,color:"blue",onClick:Object(p.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.sendlike(e.props.id);case 2:e.props.messagesIn();case 3:case"end":return t.stop()}}),t)})))},n.a.createElement(x.a.Content,{hidden:!0},"Like!"),n.a.createElement(x.a.Content,{visible:!0},n.a.createElement(ce.a,{name:"heart"}))))))}}]),a}(r.Component)),se=ee((function(e,t){return console.log(e),n.a.createElement(te.a,{className:"ui cards",style:{border:"2px solid black",paddingleft:"10px",height:"275px",width:"400px",backgroundColor:"lavender",borderRadius:"10%"}},n.a.createElement("div",{id:"message-card"},n.a.createElement(ae.a,{className:"content"},n.a.createElement("img",{class:"right floated tiny ui image",src:"https://kwitter-api.herokuapp.com/users/".concat(e.content.username,"/picture")||!1,alt:""}),n.a.createElement("h3",{className:"header"},JSON.stringify(e.content.username),"-"),n.a.createElement("p",null,e.content.text),n.a.createElement("div",{className:"meta"},e.content.timestamp),n.a.createElement(oe,{array:e.content.likes,id:e.content.id,name:e.content.username}))))})),ue={messagesOut:function(e){return function(){var t=Object(p.a)(i.a.mark((function t(a,r){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(e),t.next=4,v.messagesOut(e);case 4:n=t.sent,console.log({payload:n}),t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}()},messagesIn:N},le=Object(o.b)((function(e){return{isAuthenticated:!!e.auth.isAuthenticated}}),ue)((function(e){var t=e.messagesOut,a=e.loading,c=e.error,o=e.messagesIn,s=Object(r.useState)({inputField:"?"}),l=Object(w.a)(s,2),i=l[0],p=l[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement(k.a,{id:"messages-out",onSubmit:function(e){e.preventDefault(),console.log(i),t(i.inputField),o()}},n.a.createElement(K.a,{color:"blue",size:"massive",htmlFor:"Messages"},"Messages"),n.a.createElement(q.a,{size:"massive",icon:"comment",placeholder:"Enter Message Here",type:"text",name:"username",value:i.text,autoFocus:!0,required:!0,onChange:function(e){var t=e.target.value;p((function(e){return{inputField:t}}))}}),n.a.createElement(x.a,{color:"blue",size:"massive",type:"submit",disabled:a},"Send")),a&&n.a.createElement(u,null),c&&n.a.createElement("p",{style:{color:"red"}},c.message))})),ie=function(e){var t=e.messagesIn,a=e.content,r=e.messageList,c=void 0===r?"":r;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{id:"menu"},n.a.createElement("div",null,n.a.createElement(le,null),n.a.createElement(x.a,{color:"black",size:"massive",onClick:function(){return t()}},"Refresh Message Feed"),n.a.createElement("hr",null),n.a.createElement("div",{id:"content"},c,a.map((function(e,t){return n.a.createElement(n.a.Fragment,null,n.a.createElement(se,{key:t,index:t,content:e}))}))))))};ie.defaultProps={};var pe=X(ie),me=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(_,null),n.a.createElement("br",null),n.a.createElement(pe,null))},de=a(197);function fe(e){var t=e.isProtected,a=e.redirectIfAuthenticated,r=e.component,c=Object(de.a)(e,["isProtected","redirectIfAuthenticated","component"]);if(!r)throw new Error("ConnectedRoute MUST have a prop named 'component'");var s=Object(o.c)((function(e){return{username:e.auth.username,isAuthenticated:e.auth.isAuthenticated}})),u=s.isAuthenticated,l=s.username;return a&&u?n.a.createElement(T.b,Object.assign({},c,{render:function(e){var t=e.location;return n.a.createElement(T.a,{to:{pathname:"/profiles/".concat(l),state:{from:t}}})}})):null===t||t&&u?n.a.createElement(T.b,Object.assign({},c,{render:function(e){return n.a.createElement(r,e)}})):n.a.createElement(T.b,Object.assign({},c,{render:function(e){var t=e.location;return n.a.createElement(T.a,{to:{pathname:"/",state:{from:t}}})}}))}fe.defaultProps={isProtected:null};var he=function(){return n.a.createElement("div",{className:"body"},n.a.createElement(F.a,null,n.a.createElement(T.d,null,n.a.createElement(fe,{exact:!0,path:"/",redirectIfAuthenticated:!0,component:R}),n.a.createElement(fe,{exact:!0,path:"/newuser",component:$}),n.a.createElement(fe,{exact:!0,path:"/messagefeed",component:me}),n.a.createElement(fe,{exact:!0,isProtected:!0,path:"/profiles/:username",component:Y}),n.a.createElement(fe,{path:"*",component:B}))))},ge={newUser:function(e){return function(){var t=Object(p.a)(i.a.mark((function t(a,r){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"AUTH/NEW_USER"}),t.next=4,v.createUser(e);case 4:n=t.sent,console.log("payload: "+n),a({type:"NEW_USER_SUCCESS",payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"AUTH/LOGIN_FAILURE",payload:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()}},Ee=Object(o.b)((function(e){return{loading:e.auth.loading,error:e.auth.error}}),ge)((function(e){var t=e.newUser,a=e.loading,c=e.error,o=Object(r.useState)({username:"",displayName:"",password:""}),s=Object(w.a)(o,2),l=s[0],i=s[1],p=function(e){var t=e.target.name,a=e.target.value;i((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(j.a)({},t,a))}))};return n.a.createElement(n.a.Fragment,null,n.a.createElement("form",{id:"login-form",onSubmit:function(e){e.preventDefault(),console.log("state: "+JSON.stringify(l)),console.log(e),t(l)}},n.a.createElement("label",{htmlFor:"username"},"Username"),n.a.createElement("input",{type:"text",name:"username",value:l.username,autoFocus:!0,required:!0,onChange:p}),n.a.createElement("label",{htmlFor:"displayName"},"displayName"),n.a.createElement("input",{type:"text",name:"displayName",value:l.displayName,required:!0,onChange:p}),n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",name:"password",value:l.password,required:!0,onChange:p}),n.a.createElement("button",{type:"submit",disabled:a},"create user")),a&&n.a.createElement(u,null),c&&n.a.createElement("p",{style:{color:"red"}},c.message))})),be=a(30),ve=a(124),ye=a(193),Oe=a.n(ye),Se=a(194),je={isAuthenticated:!1,username:"",loading:!1,error:""},we={messageList:["one"],loading:!1,error:""},ke={isAuthenticated:!1,username:"",loading:!1,error:"",user:{}},xe={loading:!1,error:""},Ie=Object(be.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(m.a)(Object(m.a)({},je),{},{loading:!0});case"AUTH/LOGIN_SUCCESS":var a=t.payload,r=a.username,n=a.token;return Object(m.a)(Object(m.a)({},je),{},{isAuthenticated:n,username:r,loading:!1});case"AUTH/LOGIN_FAILURE":return Object(m.a)(Object(m.a)({},je),{},{error:t.payload,loading:!1});case"AUTH/LOGOUT":return Object(m.a)({},je);case"AUTH/NEW_USER":return Object(m.a)(Object(m.a)({},je),{},{loading:!0});case"NEW_USER_SUCCESS":return Object(m.a)(Object(m.a)({},je),{},{loading:!1});default:return e}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(m.a)(Object(m.a)({},we),{},{loading:!0});case"MESSAGES/GET_MESSAGES_SUCCESS":return Object(m.a)(Object(m.a)({},we),{},{messageList:t.payload.messages,loading:!1});case"MESSAGES/GET_MESSAGES_FAILURE":return Object(m.a)(Object(m.a)({},we),{},{error:t.payload,loading:!1});case"MESSAGES/SEND_MESSAGES":return Object(m.a)(Object(m.a)({},we),{},{loading:!0});case"MESSAGES/SEND_MESSAGES_SUCCESS":case"MESSAGES/SEND_MESSAGES_FAILURE":return{state:e};default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GETUSERINFO":return Object(m.a)(Object(m.a)({},ke),{},{loading:!0});case"GETUSERINFO_SUCCESS":return Object(m.a)(Object(m.a)({},ke),{},{user:t.payload,loading:!1});case"GETUSERINFO_FAILURE":return Object(m.a)(Object(m.a)({},ke),{},{error:t.payload,loading:!1});default:return e}},likes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTIONS/SEND_LIKES":return Object(m.a)(Object(m.a)({},xe),{},{loading:!0});case"ACTIONS/SEND_LIKES_SUCCESS":return Object(m.a)(Object(m.a)({},xe),{},{loading:!1});case"ACTIONS/SEND_LIKES_FAILURE":return Object(m.a)(Object(m.a)({},xe),{},{error:t.payload,loading:!1});case"REMOVE_LIKES":return Object(m.a)(Object(m.a)({},xe),{},{loading:!0});case"REMOVE_LIKES_SUCCESS":return Object(m.a)(Object(m.a)({},xe),{},{loading:!1});case"REMOVE_LIKES_FAILURE":return Object(m.a)(Object(m.a)({},xe),{},{error:t.payload,loading:!1});default:return e}}}),Ae=a(195),Ne={key:"root",storage:Oe.a},Ue=Object(ve.a)(Ne,Ie);a(359);var Ce=function(e){var t=Object(be.createStore)(Ue,Object(Ae.composeWithDevTools)(Object(be.applyMiddleware)(Se.a)));return{store:t,persistor:Object(ve.b)(t)}}(),Fe=Ce.store,Le=Ce.persistor,_e={store:Fe,persistor:Le};window.KWITTER=_e;var Te=function(){return n.a.createElement(o.a,{store:Fe},n.a.createElement(s.a,{loading:null,persistor:Le},n.a.createElement(he,null)))};Object(c.render)(n.a.createElement(n.a.StrictMode,null,n.a.createElement(Te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[208,1,2]]]);
//# sourceMappingURL=main.e29b00f2.chunk.js.map